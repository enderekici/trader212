# ============================================================================
# SECRETS (never stored in DB, only via env vars)
#
# IMPORTANT: Do NOT use inline comments on value lines (e.g. KEY=val # comment)
# Docker compose env_file treats everything after = as the value.
# Put comments on their own line above the variable instead.
# ============================================================================

# Required: Your Trading212 API key
TRADING212_API_KEY=
# Telegram bot token from @BotFather
TELEGRAM_BOT_TOKEN=
# Your Telegram chat ID
TELEGRAM_CHAT_ID=

# Data source API keys (comma-separated for multiple keys = higher rate limits)
# Finnhub.io - free: 60 calls/min per key (e.g. key1,key2,key3)
FINNHUB_API_KEY=
# Marketaux.com - free: 100 calls/day per key (e.g. tok1,tok2)
MARKETAUX_API_TOKEN=

# AI provider keys (leave empty if not using that provider)
ANTHROPIC_API_KEY=

# ============================================================================
# SERVER (not in config DB)
# ============================================================================

# REST + WebSocket port
API_PORT=3001
# trace | debug | info | warn | error
LOG_LEVEL=info
# SQLite file path
DB_PATH=./data/trader212.db

# API Security
# Bearer token for API auth (leave empty to disable auth)
API_SECRET_KEY=
# Allowed CORS origins (comma-separated; add your VPS URL for remote access)
CORS_ORIGINS=http://localhost:3000

# Frontend (Next.js) — server-side only, proxied to the backend
# Bot API URL as seen by the Next.js SERVER (not the browser)
# Local: http://localhost:3001 (default)
# Docker: http://bot:3001 (internal hostname)
API_URL=http://localhost:3001

# ============================================================================
# NODE_ENV is NOT set here — it is a deployment concern:
#   - Local dev:  defaults to undefined → dev mode (pino-pretty, etc.)
#   - Docker:     set to "production" in Dockerfile
#   - Override:   NODE_ENV=production node dist/index.js
# ============================================================================

# ============================================================================
# ALL CONFIG OPTIONS (env vars override DB values)
#
# Every config key maps to an env var:
#   config key             → ENV_VAR_NAME
#   t212.environment       → T212_ENVIRONMENT
#   execution.dryRun       → EXECUTION_DRY_RUN
#   risk.maxPositions      → RISK_MAX_POSITIONS
#   ai.openaiCompat.baseUrl → AI_OPENAI_COMPAT_BASE_URL
#
# Values are parsed as JSON, so use:
#   "demo" for strings, 5 for numbers, true/false for booleans,
#   [1,2,3] for arrays
#
# All values below show their defaults. Uncomment to override.
# Commented-out lines (starting with #) are safe to have inline comments.
# ============================================================================

# --- Trading212 ---
# T212_ENVIRONMENT="demo"
# T212_ACCOUNT_TYPE="INVEST"

# --- Pairlist ---
# PAIRLIST_ENABLED=true
# PAIRLIST_REFRESH_MINUTES=30
# PAIRLIST_FILTERS=["volume","price","marketCap","volatility","blacklist","maxPairs"]
# PAIRLIST_VOLUME_MIN_AVG_DAILY_VOLUME=500000
# PAIRLIST_VOLUME_TOP_N=100
# PAIRLIST_PRICE_MIN=5
# PAIRLIST_PRICE_MAX=1500
# PAIRLIST_MARKET_CAP_MIN_BILLIONS=2
# PAIRLIST_VOLATILITY_MIN_DAILY_PCT=0.5
# PAIRLIST_VOLATILITY_MAX_DAILY_PCT=10
# PAIRLIST_VOLATILITY_LOOKBACK_DAYS=20
# PAIRLIST_BLACKLIST=[]
# PAIRLIST_MAX_PAIRS=30
# PAIRLIST_MODE="dynamic"
# PAIRLIST_STATIC_SYMBOLS=[]

# --- Data Sources ---
# DATA_FINNHUB_ENABLED=true
# DATA_FINNHUB_QUOTES_ENABLED=true
# DATA_FINNHUB_NEWS_ENABLED=true
# DATA_FINNHUB_EARNINGS_ENABLED=true
# DATA_FINNHUB_INSIDERS_ENABLED=true
# DATA_MARKETAUX_ENABLED=true
# DATA_MARKETAUX_MAX_CALLS_PER_DAY=100
# DATA_MARKETAUX_PRIORITY_STOCKS_COUNT=10
# DATA_YAHOO_ENABLED=true
# DATA_EARNINGS_BLACKOUT_DAYS=3
# DATA_NEWS_MONITORING_ENABLED=true
# DATA_NEWS_MONITORING_OFF_HOURS_INTERVAL_MINUTES=60

# --- Analysis ---
# ANALYSIS_INTERVAL_MINUTES=15
# ANALYSIS_HISTORICAL_DAYS=365
# ANALYSIS_RSI_PERIOD=14
# ANALYSIS_MACD_FAST=12
# ANALYSIS_MACD_SLOW=26
# ANALYSIS_MACD_SIGNAL=9
# ANALYSIS_SMA_PERIODS=[20,50,200]
# ANALYSIS_EMA_PERIODS=[12,26]
# ANALYSIS_BB_PERIOD=20
# ANALYSIS_BB_STD_DEV=2
# ANALYSIS_ATR_PERIOD=14
# ANALYSIS_ADX_PERIOD=14
# ANALYSIS_STOCHASTIC_K_PERIOD=14
# ANALYSIS_STOCHASTIC_D_PERIOD=3
# ANALYSIS_CCI_PERIOD=20
# ANALYSIS_MFI_PERIOD=14
# ANALYSIS_ROC_PERIOD=12
# ANALYSIS_VOLUME_SPIKE_THRESHOLD=1.5
# ANALYSIS_SUPPORT_RESISTANCE_LOOKBACK=20

# --- AI ---
# AI_ENABLED=true
# AI_PROVIDER="anthropic"
# AI_MODEL="claude-sonnet-4-5-20250929"
# AI_OLLAMA_BASE_URL="http://localhost:11434"
# AI_OLLAMA_MODEL="palmyra-fin"
# AI_OPENAI_COMPAT_BASE_URL="http://localhost:8317/v1"
# AI_OPENAI_COMPAT_MODEL="claude-sonnet-4-5-20250929"
# AI_OPENAI_COMPAT_API_KEY=""
# AI_MAX_CONCURRENT_CALLS=2
# AI_TIMEOUT_SECONDS=60
# AI_INCLUDE_HISTORICAL_SIGNALS=false
# AI_HISTORICAL_SIGNAL_COUNT=5
# AI_TEMPERATURE=0.1
# AI_RESEARCH_ENABLED=true
# AI_RESEARCH_INTERVAL_MINUTES=120
# AI_RESEARCH_TOP_STOCKS_COUNT=50

# --- Risk ---
# RISK_MAX_POSITIONS=5
# RISK_MAX_POSITION_SIZE_PCT=0.15
# RISK_MIN_STOP_LOSS_PCT=0.01
# RISK_MAX_STOP_LOSS_PCT=0.10
# RISK_MAX_RISK_PER_TRADE_PCT=0.02
# RISK_DAILY_LOSS_LIMIT_PCT=0.05
# RISK_MAX_DRAWDOWN_ALERT_PCT=0.10
# RISK_MAX_SECTOR_CONCENTRATION=3
# RISK_MAX_CORRELATION=0.85
# RISK_CORRELATION_LOOKBACK_DAYS=30
# RISK_MAX_DAILY_TRADES=10
# RISK_MAX_SECTOR_VALUE_PCT=0.35

# --- Execution ---
# EXECUTION_DRY_RUN=true
# EXECUTION_POSITION_MONITOR_MINUTES=5
# EXECUTION_T212_SYNC_MINUTES=10
# EXECUTION_ORDER_TIMEOUT_SECONDS=10
# EXECUTION_STOP_LOSS_DELAY=3000
# EXECUTION_REQUIRE_APPROVAL=false
# EXECUTION_APPROVAL_TIMEOUT_MINUTES=5
# EXECUTION_APPROVAL_AUTO_EXECUTE=false
# EXECUTION_MIN_RISK_REWARD_RATIO=1.5
# EXECUTION_MAX_HOLD_DAYS=30
# EXECUTION_RE_EVALUATE_POSITIONS=true
# EXECUTION_RE_EVAL_INTERVAL_MINUTES=30

# --- Monitoring ---
# MONITORING_DAILY_SUMMARY_TIME="16:30"
# MONITORING_PRE_MARKET_ALERT_TIME="09:00"
# MONITORING_WEEKLY_REPORT_DAY="friday"
